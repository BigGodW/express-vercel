import{r as i,b as y,o as d,c as r,a as e,t as c,w as p,v,u as m,i as D,F as h,d as T}from"./index-b6dd3ef9.js";import{A as a}from"./av-83dba66f.js";const j=e("h1",null,"数据库",-1),w=e("br",null,null,-1),L=e("br",null,null,-1),A={__name:"Db",setup(U){let u=i(""),s=i({}),b=i([]);const l=i({title:"",content:""});a.init({appId:"msSlJB9iYabqoLXphS4uXZhb-gzGzoHsz",appKey:"rpJi7d91xiL0AkcSoeRz8Dv7",serverURL:"https://mssljb9i.lc-cn-n1-shared.com"});function f(){const n=new a.Query("Todo");n.notEqualTo("title",""),n.find().then(t=>{b.value=t})}y(()=>{f()});function g(){const n=a.Object.extend("Todo"),t=new n;t.set("title",l.value.title),t.set("content",l.value.content),t.save().then(o=>{l.value.title="",l.value.content="",f()})}function x(){const n=a.Object.createWithoutData("Todo",u.value);s.value=n}function _(){console.log("change"),s.value.remove("tags","html"),s.value.save().then(n=>{console.log(n)})}function k(){const n=a.Object.createWithoutData("Post","6541180bc4f6c57523e6eafa"),t=new a.Object("comment");t.set("content","文章评论3222"),t.set("post",n),t.save()}return(n,t)=>(d(),r(h,null,[j,e("div",null,[e("p",null,c(l.value),1),p(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>l.value.title=o)},null,512),[[v,l.value.title]]),w,p(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>l.value.content=o)},null,512),[[v,l.value.content]]),L,e("button",{onClick:g},"添加")]),p(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>D(u)?u.value=o:u=o)},null,512),[[v,m(u)]]),e("button",{onClick:x},"查询"),e("button",{onClick:_},"修改"),e("pre",null,"        "+c(m(s))+`
    `,1),e("div",null,[e("ul",null,[(d(!0),r(h,null,T(m(b),o=>(d(),r("li",null,[e("pre",null,c(o.id)+"-"+c(o.get("title")),1)]))),256))])]),e("button",{onClick:k},"addPost")],64))}};export{A as default};
